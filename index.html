<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>NatureMonkey Browser</title>

<style>
* { box-sizing: border-box; }

/* ========================= */
/* LOADING SCREEN (NEW)      */
/* ========================= */
#loading-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #000;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 999999;
  color: #00ff88;
  font-family: Arial, sans-serif;
  transition: opacity 0.6s ease;
}

#loading-monkey {
  font-size: 80px;
  animation: monkeyRun 1s infinite linear;
  filter: drop-shadow(0 0 10px #00ff88);
}

#loading-text {
  margin-top: 20px;
  font-size: 22px;
  letter-spacing: 2px;
  animation: pulse 1.5s infinite ease-in-out;
  color: #00ff88;
}

@keyframes monkeyRun {
  0% { transform: translateX(-20px) rotate(0deg); }
  50% { transform: translateX(20px) rotate(10deg); }
  100% { transform: translateX(-20px) rotate(0deg); }
}

@keyframes pulse {
  0% { opacity: 0.4; }
  50% { opacity: 1; }
  100% { opacity: 0.4; }
}

#loading-screen.hidden {
  opacity: 0;
  pointer-events: none;
}

/* ========================= */
/* YOUR ORIGINAL CSS BELOW   */
/* ========================= */

body {
margin: 0;
height: 100vh;
display: flex;
align-items: center;
justify-content: center;
font-family: Arial, sans-serif;
color: #e0f4ff;
overflow: hidden;
background: radial-gradient(circle at top, #06131f 0, #02030a 45%, #000000 100%);
transition: background 0.6s ease;
}

body.dark { background: #000000; }
body.forest { background: radial-gradient(circle at center, #001f0f, #000000 80%); }

.orb, .orb2 {
position: fixed;
border-radius: 50%;
pointer-events: none;
filter: blur(4px);
z-index: 0;
}

.orb {
width: 420px;
height: 420px;
background: radial-gradient(circle, rgba(0,255,140,0.35), transparent 60%);
top: -80px;
left: -60px;
animation: orbFloat 16s ease-in-out infinite alternate;
}

.orb2 {
width: 380px;
height: 380px;
background: radial-gradient(circle, rgba(0,200,255,0.25), transparent 60%);
bottom: -60px;
right: -40px;
animation: orbFloat2 20s ease-in-out infinite alternate;
}

@keyframes orbFloat {
0% { transform: translate(0,0); opacity: 0.7; }
100% { transform: translate(40px,60px); opacity: 1; }
}

@keyframes orbFloat2 {
0% { transform: translate(0,0); opacity: 0.6; }
100% { transform: translate(-40px,-40px); opacity: 1; }
}

.container {
position: relative;
z-index: 2;
text-align: center;
max-width: 800px;
width: 100%;
padding: 20px;
}

.logo {
font-size: 64px;
font-weight: bold;
color: #00ff9c;
letter-spacing: 3px;
text-shadow: 0 0 20px #00ff9c, 0 0 40px #00ff9c;
animation: logoPulse 3s ease-in-out infinite;
font-family: "Trebuchet MS", sans-serif;
}

@keyframes logoPulse {
0%,100% { text-shadow: 0 0 20px #00ff9c, 0 0 40px #00ff9c; }
50% { text-shadow: 0 0 30px #00ff9c, 0 0 60px #00ff9c; }
}

.tagline {
font-size: 15px;
color: #a9ffd8;
margin-bottom: 24px;
opacity: 0.9;
}

#query {
width: 70vw;
max-width: 560px;
padding: 12px 18px;
border-radius: 999px;
border: 2px solid #00ff9c;
background: rgba(2, 6, 23, 0.95);
color: #e0f4ff;
font-size: 16px;
outline: none;
box-shadow: 0 0 15px rgba(0,255,140,0.5);
}

.engine-buttons {
margin-top: 18px;
display: flex;
justify-content: center;
gap: 10px;
flex-wrap: wrap;
}

button {
padding: 8px 16px;
border-radius: 999px;
border: 1px solid #00ff9c;
background: rgba(2, 6, 23, 0.9);
color: #e0f4ff;
font-size: 13px;
cursor: pointer;
text-shadow: 0 0 8px #00ff9c;
box-shadow: 0 0 12px rgba(0,255,140,0.7);
transition: 0.15s;
}

button:hover {
background: #00ff9c;
color: #020617;
transform: translateY(-1px);
box-shadow: 0 0 18px rgba(0,255,140,1);
}

.tiles {
margin-top: 28px;
display: flex;
justify-content: center;
flex-wrap: wrap;
gap: 14px;
}

.tile {
width: 110px;
padding: 10px 8px;
border-radius: 14px;
background: rgba(3,10,35,0.9);
border: 1px solid rgba(0,255,140,0.4);
box-shadow: 0 0 12px rgba(0,255,140,0.35);
cursor: pointer;
transition: 0.15s;
font-size: 12px;
color: #d7ffe9;
}

.tile:hover {
transform: translateY(-2px);
box-shadow: 0 0 18px rgba(0,255,140,0.8);
border-color: #00ff9c;
}

.tile-title {
font-weight: bold;
margin-bottom: 4px;
color: #00ffb3;
text-shadow: 0 0 8px #00ff9c;
}

.settings-btn {
position: fixed;
top: 20px;
right: 20px;
background: rgba(0,255,140,0.2);
border: 2px solid #00ff9c;
padding: 10px 14px;
border-radius: 10px;
cursor: pointer;
color: #00ffb3;
font-weight: bold;
text-shadow: 0 0 10px #00ff9c;
box-shadow: 0 0 15px rgba(0,255,140,0.5);
transition: 0.2s;
z-index: 10;
}

.settings-btn:hover {
background: #00ff9c;
color: #000;
}

.settings-panel {
position: fixed;
top: 0;
right: -350px;
width: 300px;
height: 100%;
background: rgba(0,0,0,0.85);
border-left: 2px solid #00ff9c;
padding: 20px;
box-shadow: -5px 0 20px rgba(0,255,140,0.4);
transition: right 0.4s ease;
z-index: 20;
color: #d7ffe9;
}

.settings-panel.open { right: 0; }

.settings-panel h2 {
color: #00ffb3;
text-shadow: 0 0 10px #00ff9c;
margin-bottom: 10px;
}

.settings-panel label {
display: block;
margin: 10px 0 5px;
font-size: 14px;
}

.reset-btn {
margin-top: 20px;
width: 100%;
padding: 10px;
background: #ff4d4d;
border: none;
color: white;
border-radius: 8px;
cursor: pointer;
font-weight: bold;
}

/* Mascot */
.mascot {
position: fixed;
bottom: 20px;
left: 20px;
display: flex;
align-items: center;
justify-content: center;
z-index: 15;
cursor: grab;
user-select: none;
transition: transform 0.2s ease, filter 0.2s ease;
}

.mascot.dragging {
cursor: grabbing;
filter: drop-shadow(0 0 18px #00ff9c);
}

.mascot-core {
position: relative;
border-radius: 50%;
background: radial-gradient(circle at 30% 30%, #ffe9c4, #f4b36b);
box-shadow: 0 0 18px rgba(0,255,140,0.7);
display: flex;
align-items: center;
justify-content: center;
overflow: visible;
}

.mascot-face {
font-size: 32px;
pointer-events: none;
}

.mascot-glow {
position: absolute;
width: 120%;
height: 120%;
border-radius: 50%;
background: radial-gradient(circle, rgba(0,255,140,0.4), transparent 70%);
animation: mascotPulse 2.5s ease-in-out infinite;
z-index: -1;
}

.mascot-tail {
position: absolute;
right: -18px;
bottom: 8px;
width: 26px;
height: 26px;
border-radius: 50%;
border: 4px solid #f4b36b;
border-left-color: transparent;
border-top-color: transparent;
transform-origin: left center;
animation: tailWiggle 3s ease-in-out infinite;
}

@keyframes mascotPulse {
0%,100% { opacity: 0.6; transform: scale(1); }
50% { opacity: 1; transform: scale(1.15); }
}

@keyframes tailWiggle {
0%,100% { transform: rotate(10deg); }
50% { transform: rotate(-10deg); }
}

@keyframes mascotFloat {
0%,100% { transform: translateY(0); }
50% { transform: translateY(-6px); }
}

.mascot-floating {
animation: mascotFloat 3s ease-in-out infinite;
}

/* Size states */
.size-tiny .mascot-core { width: 40px; height: 40px; }
.size-tiny .mascot-face { font-size: 20px; }
.size-normal .mascot-core { width: 80px; height: 80px; }
.size-normal .mascot-face { font-size: 32px; }
.size-big .mascot-core { width: 120px; height: 120px; }
.size-big .mascot-face { font-size: 44px; }
.size-mega .mascot-core { width: 160px; height: 160px; }
.size-mega .mascot-face { font-size: 56px; }

.mascot-sleepy .mascot-face { filter: brightness(0.8); }
.mascot-hidden { opacity: 0; pointer-events: none; }

/* Cloak mode */
.cloak-dot {
position: fixed;
top: 4px;
left: 4px;
width: 10px;
height: 10px;
border-radius: 50%;
background: transparent;
cursor: pointer;
z-index: 30;
}

.cloak-dot:hover {
background: rgba(255,255,255,0.1);
}

.cloak-wrapper {
display: none;
position: relative;
z-index: 2;
max-width: 900px;
width: 100%;
padding: 20px;
font-family: system-ui, sans-serif;
color: #222;
}

.cloak-active .container,
.cloak-active .settings-btn,
.cloak-active .orb,
.cloak-active .orb2 {
display: none !important;
}

.cloak-active .cloak-wrapper {
display: block;
}

.cloak-active body {
background: #f4f5f7 !important;
}

.cloak-card {
background: #ffffff;
border-radius: 10px;
padding: 16px 18px;
margin-bottom: 14px;
box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}

.cloak-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 16px;
}

.cloak-title {
font-size: 22px;
font-weight: 600;
color: #1f2933;
}

.cloak-sub {
font-size: 13px;
color: #6b7280;
}

.cloak-badge {
font-size: 11px;
padding: 4px 8px;
border-radius: 999px;
background: #e5f2ff;
color: #2563eb;
font-weight: 600;
}

.cloak-table {
width: 100%;
border-collapse: collapse;
font-size: 13px;
margin-top: 6px;
}

.cloak-table th,
.cloak-table td {
padding: 6px 4px;
text-align: left;
border-bottom: 1px solid #e5e7eb;
}

.cloak-table th {
font-weight: 600;
color: #4b5563;
}

.cloak-tag {
font-size: 11px;
padding: 2px 6px;
border-radius: 999px;
background: #ecfdf3;
color: #166534;
display: inline-block;
}

.cloak-input {
width: 100%;
padding: 8px 10px;
border-radius: 6px;
border: 1px solid #d1d5db;
font-size: 13px;
margin-top: 4px;
}

.cloak-small {
font-size: 11px;
color: #6b7280;
margin-top: 4px;
}

.settings-panel .inline {
display: flex;
align-items: center;
gap: 6px;
}
</style>
</head>

<body>

<!-- ========================= -->
<!-- LOADING SCREEN (NEW)      -->
<!-- ========================= -->
<div id="loading-screen">
  <div id="loading-monkey">üêí</div>
  <div id="loading-text">Loading...</div>
</div>

<div class="orb"></div>
<div class="orb2"></div>

<div class="settings-btn" onclick="toggleSettings()">‚öô Settings</div>

<div class="settings-panel" id="settingsPanel">
<h2>Settings</h2>

<label>Theme:</label>
<select id="themeSelect" onchange="applyTheme()">
<option value="neon">Neon</option>
<option value="dark">Dark</option>
<option value="forest">Forest</option>
</select>

<label>Show Quick Tiles:</label>
<input type="checkbox" id="toggleTiles" checked onchange="toggleTilesFunc()">

<label>Default Search Engine:</label>
<select id="defaultEngine" onchange="saveSettings()">
<option value="google">Google</option>
<option value="bing">Bing</option>
<option value="duckduckgo">DuckDuckGo</option>
</select>

<label class="inline">
<input type="checkbox" id="nokoSoundToggle" checked onchange="saveSettings()">
Noko sound effects
</label>

<button class="reset-btn" onclick="resetSettings()">Reset Settings</button>
</div>

<div class="container" id="nmContainer">
<div class="logo">NatureMonkey</div>
<div class="tagline">A clean, neon-powered start to your web.</div>

<input type="text" id="query" placeholder="Search the web...">

<div class="engine-buttons">
<button onclick="search('google')">Google</button>
<button onclick="search('bing')">Bing</button>
<button onclick="search('duckduckgo')">DuckDuckGo</button>
<button onclick="search('youtube')">YouTube</button>
<button onclick="search('wikipedia')">Wikipedia</button>
</div>

<div class="tiles" id="tiles">
<div class="tile" onclick="openLink('https://www.youtube.com')">
<div class="tile-title">YouTube</div>
Videos & music
</div>
<div class="tile" onclick="openLink('https://discord.com/app')">
<div class="tile-title">Discord</div>
Chat & servers
</div>
<div class="tile" onclick="openLink('https://www.roblox.com')">
<div class="tile-title">Roblox</div>
Games & fun
</div>
<div class="tile" onclick="openLink('https://mail.google.com')">
<div class="tile-title">Gmail</div>
Email
</div>
<div class="tile" onclick="openLink('https://github.com')">
<div class="tile-title">GitHub</div>
Code & projects
</div>
</div>
</div>

<!-- Mascot -->
<div class="mascot size-normal mascot-floating" id="noko">
<div class="mascot-core">
<div class="mascot-glow"></div>
<div class="mascot-face" id="nokoFace">üêí</div>
<div class="mascot-tail"></div>
</div>
</div>

<!-- Cloak -->
<div class="cloak-dot" id="cloakDot"></div>

<div class="cloak-wrapper" id="cloakWrapper">
<div class="cloak-card cloak-header">
<div>
<div class="cloak-title">School Learning Hub</div>
<div class="cloak-sub">Today‚Äôs overview ‚Ä¢ Study planner & assignments</div>
</div>
<div class="cloak-badge">Student Portal</div>
</div>

<div class="cloak-card">
<strong>Upcoming Assignments</strong>
<table class="cloak-table">
<tr>
<th>Class</
